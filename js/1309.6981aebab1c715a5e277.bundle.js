"use strict";(self.webpackChunkClubs_Management=self.webpackChunkClubs_Management||[]).push([[1309],{71107:function(e,n,s){s.d(n,{K:function(){return t},F:function(){return a}});var t={ADMIN_ROLE:"admin",CLUB_ROLE:"club"},a=Object.values(t)},21309:function(e,n,s){s.r(n),s.d(n,{default:function(){return Se}});var t=s(4942),a=s(15861),r=s(70885),i=s(87757),l=s.n(i),c=s(67294),o=s(78133),d=s(15538),u=s(17834),m=s(97975),x=s(39704),p=s(88295),g=s(39249),f=s(86896),h=s(44012),j=s(61643),Z=s(73752),v=s(60329),b=s(19589),N=s(44309),w=s(12590),S=s(12575),y=s(48159),M=s(16550),C=s(71107),k=s(85893),O=function(e){var n=e.open,s=e.toggleSidebar,t=e.refresh,a=(0,c.useState)(""),i=(0,r.Z)(a,2),l=i[0],O=i[1],E=(0,c.useState)(""),P=(0,r.Z)(E,2),z=P[0],T=P[1],R=(0,c.useState)(""),A=(0,r.Z)(R,2),_=A[0],U=A[1],I=(0,c.useState)(""),D=(0,r.Z)(I,2),q=D[0],F=D[1],L=(0,c.useState)(""),B=(0,r.Z)(L,2),V=B[0],W=B[1],G=(0,c.useState)(null),H=(0,r.Z)(G,2),J=H[0],K=H[1],Q=(0,c.useState)(!1),$=(0,r.Z)(Q,2),X=$[0],Y=$[1],ee=(0,c.useState)(!1),ne=(0,r.Z)(ee,2),se=ne[0],te=ne[1],ae=(0,x.I0)(),re=!z||!_||q&&10!==q.length||!l||!V,ie=function(e){s(),te(!1),K(!1),Y(!1),O(""),U(""),T(""),F(""),e&&t()},le=function(){ie(!0)},ce=function(e){418===e.code?K("usernameExist"):414===e.code?K("nameExist"):422===e.code?K("passwordLengthError"):423===e.code?K("passwordsMatchError"):424===e.code?K("passwordResetLinkExpired"):K("somethingWrong")};return(0,k.jsx)(o.Z,{size:"lg",open:n,title:(0,f.Z)().formatMessage({id:"newUser"}),headerClassName:"mb-1",contentClassName:"pt-0",toggleSidebar:s,children:(0,k.jsx)(c.Fragment,{children:(0,k.jsxs)(d.Z,{className:"mt-2",onSubmit:function(e){e.preventDefault(),te(!0),K(!1),re||(0,M.k_)(M.$T,[p.uh,{username:z,name:_,phone:q,role:l,password:V}],!0,g.Am,ae,"userCreatedSuccessfully","",le,ce)},children:[J&&(0,k.jsxs)(u.Z,{color:"danger",className:"d-flex align-items-center",children:[(0,k.jsx)("div",{className:"alert-body font-small-2 flex-grow-1",children:(0,k.jsx)("p",{children:(0,k.jsx)("small",{className:"mr-50",children:(0,k.jsx)(h.Z,{id:J})})})}),(0,k.jsx)(j.Z,{id:"login-tip",className:"mx-50",size:18,style:{top:"10px",right:"10px"}})]}),(0,k.jsx)(y.Z,{label:(0,k.jsx)(h.Z,{id:"username"}),value:z,id:"username",name:"username",placeholder:"",onChange:function(e){return T(e.target.value)},invalid:se&&!z,requireStar:!0,prepend:{icon:(0,k.jsx)(Z.Z,{size:14})},invalidtext:(0,k.jsx)(h.Z,{id:"required"})}),(0,k.jsx)(y.Z,{label:(0,k.jsx)(h.Z,{id:"name"}),value:_,id:"name",name:"name",placeholder:"",onChange:function(e){return U(e.target.value)},invalid:se&&!_,requireStar:!0,invalidtext:(0,k.jsx)(h.Z,{id:"required"}),prepend:{icon:(0,k.jsx)(Z.Z,{size:14})}}),(0,k.jsx)(y.Z,{label:(0,k.jsx)(h.Z,{id:"phone"}),value:q,id:"phone",name:"phone",placeholder:"",invalid:se&&q&&10!==q.length,invalidtext:(0,k.jsx)(h.Z,{id:"phoneLengthError"}),onChange:function(e){return F(e.target.value.replace(/ /g,""))},prepend:{icon:(0,k.jsx)(v.Z,{size:14})},mask:{blocks:[4,2,2,2],numericOnly:!0}}),(0,k.jsx)(y.Z,{label:(0,k.jsx)(h.Z,{id:"password"}),type:X?"text":"password",value:V,id:"login-password",placeholder:"",name:"login-password",className:"input-group-merge",onChange:function(e){return W(e.target.value)},invalid:se&&(!V||V.length<8),requireStar:!0,prepend:{icon:(0,k.jsx)(b.Z,{size:14})},append:{icon:X?(0,k.jsx)(N.Z,{size:14}):(0,k.jsx)(w.Z,{size:14}),onClick:function(){return Y(!X)}},invalidtext:(0,k.jsx)(h.Z,{id:V?V.length<8?"passwordLengthError":"":"required"})}),(0,k.jsxs)(y.Z,{label:(0,k.jsx)(h.Z,{id:"role"}),type:"select",id:"select-plan",name:"select-plan",value:l,onChange:function(e){return O(e.target.value)},prepend:{icon:(0,k.jsx)(S.Z,{size:14})},requireStar:!0,invalid:se&&!l,invalidtext:(0,k.jsx)(h.Z,{id:"required"}),children:[(0,k.jsx)("option",{value:"",children:(0,f.Z)().formatMessage({id:"selectRole"})}),C.F.map((function(e,n){return(0,k.jsx)("option",{value:e,children:(0,f.Z)().formatMessage({id:e})},n)}))]}),(0,k.jsx)(m.Z.Ripple,{type:"submit",className:"mr-1",color:"primary",children:(0,k.jsx)(h.Z,{id:"save"})}),(0,k.jsx)(m.Z.Ripple,{color:"danger",outline:!0,onClick:ie,children:(0,k.jsx)(h.Z,{id:"cancel"})})]})})})},E=s(5513),P=s(68138),z=s(17354),T=s(83823),R=s(65497),A=s(42365),_=s(98227),U=s(39046),I=s(10980),D=s(25213),q=s(32655),F=s(35221),L=s(83220),B=s(61752),V=s(39646),W=s(31357),G=s(91140),H=s(84693),J=s(80498),K=s(55654),Q=s(79366),$=s(34073),X=s(30833),Y=s(16724),ee=s(56176),ne=s(14322),se=function(e,n,s){return[{name:n.formatMessage({id:"user"}),minWidth:"297px",selector:"name",sortable:!0,cell:function(e){return(0,k.jsxs)("div",{className:"d-flex justify-content-left align-items-center",children:[e.avatar?(0,k.jsx)(P.Z,{img:e.avatar,className:"mr-1"}):(0,k.jsx)(P.Z,{color:"light-danger",className:"mr-1",content:e.name,initials:!0}),(0,k.jsxs)("div",{className:"d-flex flex-column",children:[(0,k.jsx)(E.rU,{to:"/apps/user/view/".concat(e.id),className:"user-name text-truncate mb-0",children:(0,k.jsx)("span",{className:"font-weight-bold text-capitalize",children:e.name})}),(0,k.jsx)("small",{className:"text-truncate text-muted mb-0",children:e.username})]})]})}},{name:n.formatMessage({id:"phone"}),selector:"phone",sortable:!0,cell:function(e){return(0,Y.CN)(e.phone)}},{name:n.formatMessage({id:"role"}),selector:"role",sortable:!0,cell:function(e){return function(e,n){var s={admin:{class:"text-danger",icon:U.Z},president:{class:"text-warning",icon:I.Z},sg:{class:"text-primary",icon:D.Z},secretary:{class:"text-info",icon:q.Z},executive:{class:"text-warning",icon:F.Z},finance:{class:"text-success",icon:L.Z},dtn:{class:"text-info",icon:B.Z},den:{class:"text-info",icon:V.Z},djts:{class:"text-info",icon:W.Z},dos:{class:"text-info",icon:G.Z},ddf:{class:"text-info",icon:H.Z},athlete:{class:"text-dark",icon:J.Z},staff:{class:"text-info",icon:Z.Z}};return s[e.role]?s[e.role].icon:K.Z,(0,k.jsx)("span",{className:"text-truncate text-capitalize align-middle",children:n.formatMessage({id:e.role})})}(e,n)}},{name:n.formatMessage({id:"status"}),selector:"status",sortable:!1,cell:function(e){return(0,k.jsx)(z.Z,{pill:!0,color:e.blocked?"light-danger":e.accountVerified?"light-success":"light-warning",className:"mr-1",children:e.blocked?n.formatMessage({id:"blocked"}):e.accountVerified?n.formatMessage({id:"active"}):n.formatMessage({id:"unverified"})})}},{name:n.formatMessage({id:"actions"}),minWidth:"100px",cell:function(t){return(0,k.jsxs)(T.Z,{children:[(0,k.jsx)(R.Z,{tag:"div",className:"btn btn-sm",children:(0,k.jsx)(Q.Z,{size:14,className:"cursor-pointer"})}),(0,k.jsxs)(A.Z,{right:!0,children:[(0,k.jsxs)(_.Z,{tag:E.rU,to:"/apps/user/view/".concat(t.id),className:"w-100",children:[(0,k.jsx)($.Z,{size:14,className:"mr-50"}),(0,k.jsx)("span",{className:"align-middle",children:n.formatMessage({id:"details"})})]}),s.can(ee.a.MANAGE_ACTION,ne.k.USER_SUBJECT)&&(0,k.jsxs)(_.Z,{tag:E.rU,to:"/apps/user/edit/".concat(t.id),className:"w-100",children:[(0,k.jsx)(K.Z,{size:14,className:"mr-50"}),(0,k.jsx)("span",{className:"align-middle",children:n.formatMessage({id:"edit"})})]}),s.can(ee.a.MANAGE_ACTION,ne.k.USER_SUBJECT)&&(0,k.jsxs)(_.Z,{className:"w-100",onClick:function(){return e(t.id)},children:[(0,k.jsx)(X.Z,{size:14,className:"mr-50"}),(0,k.jsx)("span",{className:"align-middle",children:n.formatMessage({id:"delete"})})]})]})]})}}]},te=s(61896),ae=s(46445),re=s(27434),ie=s(90044),le=s(10267),ce=s(51252),oe=s(67954),de=s(68959),ue=s(56941),me=s(38089),xe=s(75351),pe=s(91121),ge=(s(22299),s(73732),s(16714)),fe=s(4248),he=s(82433),je=s(6756),Ze=s(82475);function ve(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),s.push.apply(s,t)}return s}function be(e){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?ve(Object(s),!0).forEach((function(n){(0,t.Z)(e,n,s[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ve(Object(s)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))}))}return e}var Ne=function(e){var n=e.toggleSidebar,s=e.handlePerPage,t=e.rowsPerPage,a=e.pageIndex,r=e.data,i=e.intl,l=e.ability;return(0,k.jsx)("div",{className:"list-table-header w-100 mr-1 ml-50 mt-2 mb-75",children:(0,k.jsxs)(le.Z,{children:[(0,k.jsx)(ce.Z,{xl:"6",className:"d-flex align-items-center p-0",children:(0,k.jsxs)("div",{className:"d-flex align-items-center w-100",children:[(0,k.jsx)(oe.Z,{for:"rows-per-page",children:(0,k.jsx)(h.Z,{id:"rowsPerPage"})}),(0,k.jsx)(de.Z,{className:"form-control mx-50",type:"select",value:t,onChange:s,style:{width:"4rem",padding:"0 0.8rem",backgroundPosition:"calc(100% - 3px) 7px, calc(100% - 20px) 13px, 100% 0"},bsSize:"sm",children:he.m.map((function(e,n){return(0,k.jsx)("option",{value:e,children:e},n)}))}),(0,k.jsx)(oe.Z,{for:"rows-per-page",children:r.count?(0,k.jsxs)(k.Fragment,{children:[(a-1)*t+1,"-",a*t>r.count?r.count:a*t," ",i.formatMessage({id:"of"})," ",r.count]}):null})]})}),(0,k.jsxs)(ce.Z,{xl:"6",className:"d-flex align-items-sm-center justify-content-lg-end justify-content-start flex-lg-nowrap flex-wrap flex-sm-row flex-column pr-lg-1 p-0 mt-lg-0 mt-1",children:[(0,k.jsx)("div",{className:"mr-1",children:(0,k.jsx)(Ze._,{data:r.rows,title:"users",keys:["name","email","phone","role"],displays:[null,null,function(e){return(0,Y.CN)(e.phone)}]})}),l.can(ee.a.MANAGE_ACTION,ne.k.USER_SUBJECT)&&(0,k.jsxs)(m.Z.Ripple,{color:"primary",onClick:n,children:[(0,k.jsx)(te.Z,{size:15}),(0,k.jsx)("span",{className:"align-middle ml-25",children:(0,k.jsx)(h.Z,{id:"addUser"})})]})]})]})})},we=function(){var e=(0,c.useState)(he.m[0]),n=(0,r.Z)(e,2),s=n[0],t=n[1],i=(0,c.useState)(1),o=(0,r.Z)(i,2),d=o[0],u=o[1],m=(0,c.useState)([["createdAt","DESC"]]),j=(0,r.Z)(m,2),v=j[0],b=j[1],N=(0,c.useState)({count:0,rows:[]}),w=(0,r.Z)(N,2),E=w[0],P=w[1],z=(0,c.useState)({}),T=(0,r.Z)(z,2),R=T[0],A=T[1],_=(0,x.I0)(),U=(0,c.useState)(""),I=(0,r.Z)(U,2),D=I[0],q=I[1],F=(0,c.useState)(!1),L=(0,r.Z)(F,2),B=L[0],V=L[1],W=(0,c.useState)(""),G=(0,r.Z)(W,2),H=G[0],J=G[1],K=(0,c.useState)(""),Q=(0,r.Z)(K,2),$=Q[0],X=Q[1],ee=(0,c.useState)(0),ne=(0,r.Z)(ee,2),te=ne[0],oe=ne[1],de=(0,f.Z)(),Ze=(0,c.useContext)(je.v),ve=function(e,n,s,t){(0,M.k_)(M.Ki,[p.Gm,e,n,s,t],!0,g.Am,_,null,"somethingWrong",(function(e){return P(e)}),null)};(0,c.useEffect)((0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ve(d,s,v,R);case 1:case"end":return e.stop()}}),e)}))),[]);var we,Se,ye,Me,Ce,ke=function(){return V(!B)},Oe=function(e){u(e.selected+1),ve(e.selected+1,s,v,R)},Ee=function(e){u(1),q(e),A(be(be({},R),{},{name:e})),clearTimeout(te),oe(setTimeout((function(){return ve(1,s,v,be(be({},R),{},{name:e}))}),700))};return(0,k.jsx)("div",{className:"app-user-list",children:(0,k.jsxs)(c.Fragment,{children:[(0,k.jsxs)(ue.Z,{children:[(0,k.jsx)(me.Z,{children:(0,k.jsx)(xe.Z,{tag:"h4",children:(0,k.jsx)(h.Z,{id:"searchFilter"})})}),(0,k.jsx)(pe.Z,{children:(0,k.jsxs)(le.Z,{children:[(0,k.jsx)(ce.Z,{md:"4",children:(0,k.jsx)(y.Z,{prepend:{icon:(0,k.jsx)(Z.Z,{size:14})},placeholder:de.formatMessage({id:"searchByName"}),id:"search",type:"text",value:D,onChange:function(e){return Ee(e.target.value)}})}),(0,k.jsx)(ce.Z,{md:"4",children:(0,k.jsxs)(y.Z,{prepend:{icon:(0,k.jsx)(S.Z,{size:14})},type:"select",isClearable:!1,theme:Y.ss,value:H,onChange:function(e){return n=e.target.value,u(1),J(n),A(be(be({},R),{},{role:n})),void ve(1,s,v,be(be({},R),{},{role:n}));var n},children:[(0,k.jsx)("option",{value:"",children:(0,f.Z)().formatMessage({id:"selectRole"})}),C.F.map((function(e,n){return(0,k.jsx)("option",{value:e,children:(0,f.Z)().formatMessage({id:e})},n)}))]})}),(0,k.jsx)(ce.Z,{md:"4",children:(0,k.jsxs)(y.Z,{prepend:{icon:(0,k.jsx)(ae.Z,{size:14})},type:"select",isClearable:!1,theme:Y.ss,value:$,onChange:function(e){return function(e){u(1),X(e);var n={};"blocked"===e?n={blocked:!0}:"unverified"===e?n={accountVerified:!1}:"active"===e&&(n={blocked:!1,accountVerified:!0}),A(be(be({},n),n)),ve(1,s,v,be(be({},n),n))}(e.target.value)},children:[(0,k.jsx)("option",{value:"",children:de.formatMessage({id:"selectStatus"})}),(0,k.jsx)("option",{value:"active",children:de.formatMessage({id:"active"})}),(0,k.jsx)("option",{value:"blocked",children:de.formatMessage({id:"blocked"})})]})})]})})]}),(0,k.jsx)(ue.Z,{children:(0,k.jsx)(ie.ZP,{noHeader:!0,pagination:!0,subHeader:!0,responsive:!0,paginationServer:!0,columns:se((function(e){(0,ge.o)(de.formatMessage({id:"delete"}),de.formatMessage({id:"deleteUserQuestion"}),"warning",!0,de.formatMessage({id:"yes"}),de.formatMessage({id:"no"})).then((function(n){n.value&&(0,M.k_)(M.Vx,[p.uh,e,{deleted:!0}],!0,g.Am,_,"userDeletedSuccessfully","somethingWrong",(function(){return ve(d,s,v,R)}),null)}))}),de,Ze),sortIcon:(0,k.jsx)(re.Z,{}),className:"react-dataTable",paginationComponent:function(){return(0,k.jsx)(fe.t,{pageIndex:d,pageSize:s,total:E.count,handlePagination:Oe})},data:(Me={name:D,role:H},Ce=Object.keys(Me).some((function(e){return Me[e].length>0})),(null===(we=E.rows)||void 0===we?void 0:we.length)>0?E.rows:0===(null===(Se=E.rows)||void 0===Se?void 0:Se.length)&&Ce?[]:null===(ye=E.rows)||void 0===ye?void 0:ye.slice(0,s)),onSort:function(e,n){var t=[[e.selector,n]];b(t),ve(d,s,t,R)},noDataComponent:(0,k.jsx)("span",{className:"my-3",children:(0,k.jsx)(h.Z,{id:"noRecords"})}),subHeaderComponent:(0,k.jsx)(Ne,{ability:Ze,pageIndex:d,toggleSidebar:ke,handlePerPage:function(e){u(1),t(parseInt(e.currentTarget.value)),ve(1,parseInt(e.currentTarget.value),v,R)},rowsPerPage:s,searchTerm:D,handleFilter:Ee,data:E,intl:de})})}),(0,k.jsx)(O,{open:B,toggleSidebar:ke,refresh:function(){return ve(d,s,v,R)}})]})})},Se=(s(61360),function(){return(0,k.jsx)("div",{className:"app-user-list",children:(0,k.jsx)(we,{})})})},91121:function(e,n,s){var t=s(87462),a=s(63366),r=s(67294),i=s(45697),l=s.n(i),c=s(94184),o=s.n(c),d=s(23663),u={tag:d.iC,className:l().string,cssModule:l().object,innerRef:l().oneOfType([l().object,l().string,l().func])},m=function(e){var n=e.className,s=e.cssModule,i=e.innerRef,l=e.tag,c=(0,a.Z)(e,["className","cssModule","innerRef","tag"]),u=(0,d.mx)(o()(n,"card-body"),s);return r.createElement(l,(0,t.Z)({},c,{className:u,ref:i}))};m.propTypes=u,m.defaultProps={tag:"div"},n.Z=m},38089:function(e,n,s){var t=s(87462),a=s(63366),r=s(67294),i=s(45697),l=s.n(i),c=s(94184),o=s.n(c),d=s(23663),u={tag:d.iC,className:l().string,cssModule:l().object},m=function(e){var n=e.className,s=e.cssModule,i=e.tag,l=(0,a.Z)(e,["className","cssModule","tag"]),c=(0,d.mx)(o()(n,"card-header"),s);return r.createElement(i,(0,t.Z)({},l,{className:c}))};m.propTypes=u,m.defaultProps={tag:"div"},n.Z=m}}]);